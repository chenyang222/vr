<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="js/three.js" type="text/javascript" charset="utf-8"></script>		
		<script src="js/OrbitControls.js" type="text/javascript" charset="utf-8"></script>
		<style>
			*{margin: 0;padding: 0;}
			html,body{width: 100%;height: 100%;}
			canvas{ width: 100%;height: 100%;}
		</style>
	</head>
	<body>
			
		
		<video id="video" autoplay loop webkit-playsinline style="display:none">
			<source src="img/vr.mp4" type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"'>
		</video>
		
		<script type="text/javascript">
			
			//场景创建
				var scene = new THREE.Scene();
			//相机创建
				var camera = new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,1000);
			//渲染器创建
				var renderer = new THREE.WebGLRenderer();
				renderer.setSize(window.innerWidth,window.innerHeight);
				document.body.appendChild( renderer.domElement );
		      
				// Controls
				controls = new THREE.OrbitControls( camera, renderer.domElement );
			//物体创建
				
				
				var geometry = new THREE.SphereGeometry(50,64,64);
//				var loader = new THREE.TextureLoader();
//				var texture = loader.load('img/vr.jpg')
//				var material = new THREE.MeshBasicMaterial( { map:texture,side:THREE.BackSide} );
				
				video = document.getElementById( 'video' );
				texture = new THREE.VideoTexture( video );
				var material = new THREE.MeshBasicMaterial( { map:texture,side:THREE.BackSide} );				
				var cube = new THREE.Mesh( geometry, material );
				scene.add( cube );
				
				camera.position.z = 1;
			
			//场景渲染
				
				var render = function() {
					
				    requestAnimationFrame( render );
				    
//				    cube.rotation.x += 0.01;
               	 	cube.rotation.y += 0.001;
               	 	
				    
				    renderer.render( scene, camera );
				}
				
				render();
		</script>	
	</body>
</html>
